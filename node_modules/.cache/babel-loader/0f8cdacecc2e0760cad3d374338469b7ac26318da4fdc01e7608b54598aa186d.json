{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{motion,useMotionValue,useAnimation,useTransform}from\"framer-motion\";import\"../assets/styles/RollingGallery.scss\";import photo01 from\"../assets/images/gallery/cervice_35.png\";import photo02 from\"../assets/images/gallery/deathvalley_38.png\";import photo03 from\"../assets/images/gallery/kjerag_73.png\";import photo04 from\"../assets/images/gallery/deathvalley_10.png\";import photo05 from\"../assets/images/gallery/mojave_36.png\";import photo06 from\"../assets/images/gallery/sequoia_37.png\";import photo07 from\"../assets/images/gallery/trolling_225.png\";import photo08 from\"../assets/images/gallery/tromso_128.png\";import photo09 from\"../assets/images/gallery/yosemite_13.png\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const IMGS=[photo01,photo02,photo03,photo04,photo05,photo06,photo07,photo08,photo09];const RollingGallery=_ref=>{let{autoplay=false,pauseOnHover=false,images=[]}=_ref;images=IMGS;const[isScreenSizeSm,setIsScreenSizeSm]=useState(window.innerWidth<=640);const cylinderWidth=isScreenSizeSm?1100:1800;const faceCount=images.length;const faceWidth=cylinderWidth/faceCount*1.5;const dragFactor=0.05;const radius=cylinderWidth/(2*Math.PI);const rotation=useMotionValue(0);const controls=useAnimation();const autoplayRef=useRef(null);const handleDrag=(_,info)=>{controls.stop();rotation.set(rotation.get()+info.offset.x*dragFactor);};const handleDragEnd=(_,info)=>{controls.start({rotateY:rotation.get()+info.velocity.x*dragFactor,transition:{type:\"spring\",stiffness:60,damping:20,mass:0.1,ease:\"easeOut\"}});};const transform=useTransform(rotation,value=>{return\"rotate3d(0, 1, 0, \".concat(value,\"deg)\");});useEffect(()=>{if(autoplay){autoplayRef.current=setInterval(()=>{controls.start({rotateY:rotation.get()-360/faceCount,transition:{duration:2,ease:\"linear\"}});rotation.set(rotation.get()-360/faceCount);},2000);return()=>{if(autoplayRef.current)clearInterval(autoplayRef.current);};}},[autoplay,rotation,controls,faceCount]);useEffect(()=>{const handleResize=()=>{setIsScreenSizeSm(window.innerWidth<=640);};window.addEventListener(\"resize\",handleResize);return()=>window.removeEventListener(\"resize\",handleResize);},[]);const handleMouseEnter=()=>{if(autoplay&&pauseOnHover){if(autoplayRef.current)clearInterval(autoplayRef.current);controls.stop();}};const handleMouseLeave=()=>{if(autoplay&&pauseOnHover){controls.start({rotateY:rotation.get()-360/faceCount,transition:{duration:2,ease:\"linear\"}});rotation.set(rotation.get()-360/faceCount);autoplayRef.current=setInterval(()=>{controls.start({rotateY:rotation.get()-360/faceCount,transition:{duration:2,ease:\"linear\"}});rotation.set(rotation.get()-360/faceCount);},2000);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"gallery-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gallery-gradient gallery-gradient-left\"}),/*#__PURE__*/_jsx(\"div\",{className:\"gallery-gradient gallery-gradient-right\"}),/*#__PURE__*/_jsx(\"div\",{className:\"gallery-content\",children:/*#__PURE__*/_jsx(motion.div,{drag:\"x\",className:\"gallery-track\",onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,style:{transform:transform,rotateY:rotation,width:cylinderWidth,transformStyle:\"preserve-3d\"},onDrag:handleDrag,onDragEnd:handleDragEnd,animate:controls,children:images.map((path,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"gallery-item\",style:{width:\"\".concat(faceWidth,\"px\"),transform:\"rotateY(\".concat(360/faceCount*i,\"deg) translateZ(\").concat(radius,\"px)\")},children:/*#__PURE__*/_jsx(\"img\",{src:path,alt:\"gallery\",className:\"gallery-img\"})},i))})})]});};export default RollingGallery;","map":{"version":3,"names":["React","useEffect","useRef","useState","motion","useMotionValue","useAnimation","useTransform","photo01","photo02","photo03","photo04","photo05","photo06","photo07","photo08","photo09","jsx","_jsx","jsxs","_jsxs","IMGS","RollingGallery","_ref","autoplay","pauseOnHover","images","isScreenSizeSm","setIsScreenSizeSm","window","innerWidth","cylinderWidth","faceCount","length","faceWidth","dragFactor","radius","Math","PI","rotation","controls","autoplayRef","handleDrag","_","info","stop","set","get","offset","x","handleDragEnd","start","rotateY","velocity","transition","type","stiffness","damping","mass","ease","transform","value","concat","current","setInterval","duration","clearInterval","handleResize","addEventListener","removeEventListener","handleMouseEnter","handleMouseLeave","className","children","div","drag","onMouseEnter","onMouseLeave","style","width","transformStyle","onDrag","onDragEnd","animate","map","path","i","src","alt"],"sources":["/home/nigro/Documents/personal_website/ngrlcu.github.io/src/components/RollingGallery.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  motion,\n  useMotionValue,\n  useAnimation,\n  useTransform,\n  PanInfo,\n} from \"framer-motion\";\nimport \"../assets/styles/RollingGallery.scss\";\nimport photo01 from \"../assets/images/gallery/cervice_35.png\";\nimport photo02 from \"../assets/images/gallery/deathvalley_38.png\";\nimport photo03 from \"../assets/images/gallery/kjerag_73.png\";\nimport photo04 from \"../assets/images/gallery/deathvalley_10.png\";\nimport photo05 from \"../assets/images/gallery/mojave_36.png\";\nimport photo06 from \"../assets/images/gallery/sequoia_37.png\";\nimport photo07 from \"../assets/images/gallery/trolling_225.png\";\nimport photo08 from \"../assets/images/gallery/tromso_128.png\";\nimport photo09 from \"../assets/images/gallery/yosemite_13.png\";\n\n\nconst IMGS: string[] = [\n    photo01,\n    photo02,\n    photo03,\n    photo04,\n    photo05,\n    photo06, \n    photo07, \n    photo08, \n    photo09    \n];\n\ninterface RollingGalleryProps {\n  autoplay?: boolean;\n  pauseOnHover?: boolean;\n  images?: string[];\n}\n\nconst RollingGallery: React.FC<RollingGalleryProps> = ({\n  autoplay = false,\n  pauseOnHover = false,\n  images = [],\n}) => {\n  images = IMGS;\n  const [isScreenSizeSm, setIsScreenSizeSm] = useState<boolean>(\n    window.innerWidth <= 640\n  );\n\n  const cylinderWidth: number = isScreenSizeSm ? 1100 : 1800;\n  const faceCount: number = images.length;\n  const faceWidth: number = (cylinderWidth / faceCount) * 1.5;\n  const dragFactor: number = 0.05;\n  const radius: number = cylinderWidth / (2 * Math.PI);\n\n  const rotation = useMotionValue(0);\n  const controls = useAnimation();\n  const autoplayRef = useRef<ReturnType<typeof setInterval> | null>(null);\n\n  const handleDrag = (\n    _: MouseEvent | TouchEvent | PointerEvent,\n    info: PanInfo\n  ): void => {\n    controls.stop();\n    rotation.set(rotation.get() + info.offset.x * dragFactor);\n  };\n\n  const handleDragEnd = (\n    _: MouseEvent | TouchEvent | PointerEvent,\n    info: PanInfo\n  ): void => {\n    controls.start({\n      rotateY: rotation.get() + info.velocity.x * dragFactor,\n      transition: {\n        type: \"spring\",\n        stiffness: 60,\n        damping: 20,\n        mass: 0.1,\n        ease: \"easeOut\",\n      },\n    });\n  };\n\n  const transform = useTransform(rotation, (value: number) => {\n    return `rotate3d(0, 1, 0, ${value}deg)`;\n  });\n\n  useEffect(() => {\n    if (autoplay) {\n      autoplayRef.current = setInterval(() => {\n        controls.start({\n          rotateY: rotation.get() - 360 / faceCount,\n          transition: { duration: 2, ease: \"linear\" },\n        });\n        rotation.set(rotation.get() - 360 / faceCount);\n      }, 2000);\n\n      return () => {\n        if (autoplayRef.current) clearInterval(autoplayRef.current);\n      };\n    }\n  }, [autoplay, rotation, controls, faceCount]);\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsScreenSizeSm(window.innerWidth <= 640);\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  const handleMouseEnter = (): void => {\n    if (autoplay && pauseOnHover) {\n      if (autoplayRef.current) clearInterval(autoplayRef.current);\n      controls.stop();\n    }\n  };\n\n  const handleMouseLeave = (): void => {\n    if (autoplay && pauseOnHover) {\n      controls.start({\n        rotateY: rotation.get() - 360 / faceCount,\n        transition: { duration: 2, ease: \"linear\" },\n      });\n      rotation.set(rotation.get() - 360 / faceCount);\n\n      autoplayRef.current = setInterval(() => {\n        controls.start({\n          rotateY: rotation.get() - 360 / faceCount,\n          transition: { duration: 2, ease: \"linear\" },\n        });\n        rotation.set(rotation.get() - 360 / faceCount);\n      }, 2000);\n    }\n  };\n\n  return (\n    <div className=\"gallery-container\">\n      <div className=\"gallery-gradient gallery-gradient-left\"></div>\n      <div className=\"gallery-gradient gallery-gradient-right\"></div>\n      <div className=\"gallery-content\">\n        <motion.div\n          drag=\"x\"\n          className=\"gallery-track\"\n          onMouseEnter={handleMouseEnter}\n          onMouseLeave={handleMouseLeave}\n          style={{\n            transform: transform,\n            rotateY: rotation,\n            width: cylinderWidth,\n            transformStyle: \"preserve-3d\",\n          }}\n          onDrag={handleDrag}\n          onDragEnd={handleDragEnd}\n          animate={controls}\n        >\n          {images.map((path, i) => (\n            <div\n              key={i}\n              className=\"gallery-item\"\n              style={{\n                width: `${faceWidth}px`,\n                transform: `rotateY(${(360 / faceCount) * i}deg) translateZ(${radius}px)`,\n              }}\n            >\n              <img src={path} alt=\"gallery\" className=\"gallery-img\" />\n            </div>\n          ))}\n        </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default RollingGallery;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}