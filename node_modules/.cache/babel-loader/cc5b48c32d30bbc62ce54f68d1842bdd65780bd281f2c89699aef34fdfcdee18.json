{"ast":null,"code":"// Based from ThreeJS' OrbitControls class, rewritten using es6 with some additions and subtractions.\n// TODO: abstract event handlers so can be fed from other sources\n// TODO: make scroll zoom more accurate than just >/< zero\n// TODO: be able to pass in new camera position\n\nimport { Vec3 } from '../math/Vec3.js';\nimport { Vec2 } from '../math/Vec2.js';\nconst STATE = {\n  NONE: -1,\n  ROTATE: 0,\n  DOLLY: 1,\n  PAN: 2,\n  DOLLY_PAN: 3\n};\nconst tempVec3 = /* @__PURE__ */new Vec3();\nconst tempVec2a = /* @__PURE__ */new Vec2();\nconst tempVec2b = /* @__PURE__ */new Vec2();\nexport function Orbit(object) {\n  let {\n    element = document,\n    enabled = true,\n    target = new Vec3(),\n    ease = 0.25,\n    inertia = 0.85,\n    enableRotate = true,\n    rotateSpeed = 0.1,\n    autoRotate = false,\n    autoRotateSpeed = 1.0,\n    enableZoom = true,\n    zoomSpeed = 1,\n    zoomStyle = 'dolly',\n    enablePan = true,\n    panSpeed = 0.1,\n    minPolarAngle = 0,\n    maxPolarAngle = Math.PI,\n    minAzimuthAngle = -Infinity,\n    maxAzimuthAngle = Infinity,\n    minDistance = 0,\n    maxDistance = Infinity\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  this.enabled = enabled;\n  this.target = target;\n  this.zoomStyle = zoomStyle;\n\n  // Catch attempts to disable - set to 1 so has no effect\n  ease = ease || 1;\n  inertia = inertia || 0;\n  this.minDistance = minDistance;\n  this.maxDistance = maxDistance;\n\n  // current position in sphericalTarget coordinates\n  const sphericalDelta = {\n    radius: 1,\n    phi: 0,\n    theta: 0\n  };\n  const sphericalTarget = {\n    radius: 1,\n    phi: 0,\n    theta: 0\n  };\n  const spherical = {\n    radius: 1,\n    phi: 0,\n    theta: 0\n  };\n  const panDelta = new Vec3();\n\n  // Grab initial position values\n  const offset = new Vec3();\n  offset.copy(object.position).sub(this.target);\n  spherical.radius = sphericalTarget.radius = offset.distance();\n  spherical.theta = sphericalTarget.theta = Math.atan2(offset.x, offset.z);\n  spherical.phi = sphericalTarget.phi = Math.acos(Math.min(Math.max(offset.y / sphericalTarget.radius, -1), 1));\n  this.offset = offset;\n  this.update = () => {\n    if (autoRotate) {\n      handleAutoRotate();\n    }\n\n    // apply delta\n    sphericalTarget.radius *= sphericalDelta.radius;\n    sphericalTarget.theta += sphericalDelta.theta;\n    sphericalTarget.phi += sphericalDelta.phi;\n\n    // apply boundaries\n    sphericalTarget.theta = Math.max(minAzimuthAngle, Math.min(maxAzimuthAngle, sphericalTarget.theta));\n    sphericalTarget.phi = Math.max(minPolarAngle, Math.min(maxPolarAngle, sphericalTarget.phi));\n    sphericalTarget.radius = Math.max(this.minDistance, Math.min(this.maxDistance, sphericalTarget.radius));\n\n    // ease values\n    spherical.phi += (sphericalTarget.phi - spherical.phi) * ease;\n    spherical.theta += (sphericalTarget.theta - spherical.theta) * ease;\n    spherical.radius += (sphericalTarget.radius - spherical.radius) * ease;\n\n    // apply pan to target. As offset is relative to target, it also shifts\n    this.target.add(panDelta);\n\n    // apply rotation to offset\n    let sinPhiRadius = spherical.radius * Math.sin(Math.max(0.000001, spherical.phi));\n    offset.x = sinPhiRadius * Math.sin(spherical.theta);\n    offset.y = spherical.radius * Math.cos(spherical.phi);\n    offset.z = sinPhiRadius * Math.cos(spherical.theta);\n\n    // Apply updated values to object\n    object.position.copy(this.target).add(offset);\n    object.lookAt(this.target);\n\n    // Apply inertia to values\n    sphericalDelta.theta *= inertia;\n    sphericalDelta.phi *= inertia;\n    panDelta.multiply(inertia);\n\n    // Reset scale every frame to avoid applying scale multiple times\n    sphericalDelta.radius = 1;\n  };\n\n  // Updates internals with new position\n  this.forcePosition = () => {\n    offset.copy(object.position).sub(this.target);\n    spherical.radius = sphericalTarget.radius = offset.distance();\n    spherical.theta = sphericalTarget.theta = Math.atan2(offset.x, offset.z);\n    spherical.phi = sphericalTarget.phi = Math.acos(Math.min(Math.max(offset.y / sphericalTarget.radius, -1), 1));\n    object.lookAt(this.target);\n  };\n\n  // Everything below here just updates panDelta and sphericalDelta\n  // Using those two objects' values, the orbit is calculated\n\n  const rotateStart = new Vec2();\n  const panStart = new Vec2();\n  const dollyStart = new Vec2();\n  let state = STATE.NONE;\n  this.mouseButtons = {\n    ORBIT: 0,\n    ZOOM: 1,\n    PAN: 2\n  };\n  function getZoomScale() {\n    return Math.pow(0.95, zoomSpeed);\n  }\n  function panLeft(distance, m) {\n    tempVec3.set(m[0], m[1], m[2]);\n    tempVec3.multiply(-distance);\n    panDelta.add(tempVec3);\n  }\n  function panUp(distance, m) {\n    tempVec3.set(m[4], m[5], m[6]);\n    tempVec3.multiply(distance);\n    panDelta.add(tempVec3);\n  }\n  const pan = (deltaX, deltaY) => {\n    let el = element === document ? document.body : element;\n    tempVec3.copy(object.position).sub(this.target);\n    let targetDistance = tempVec3.distance();\n    targetDistance *= Math.tan((object.fov || 45) / 2 * Math.PI / 180.0);\n    panLeft(2 * deltaX * targetDistance / el.clientHeight, object.matrix);\n    panUp(2 * deltaY * targetDistance / el.clientHeight, object.matrix);\n  };\n  const dolly = dollyScale => {\n    if (this.zoomStyle === 'dolly') sphericalDelta.radius /= dollyScale;else {\n      object.fov /= dollyScale;\n      if (object.type === 'orthographic') object.orthographic();else object.perspective();\n    }\n  };\n  function handleAutoRotate() {\n    const angle = 2 * Math.PI / 60 / 60 * autoRotateSpeed;\n    sphericalDelta.theta -= angle;\n  }\n  function handleMoveRotate(x, y) {\n    tempVec2a.set(x, y);\n    tempVec2b.sub(tempVec2a, rotateStart).multiply(rotateSpeed);\n    let el = element === document ? document.body : element;\n    sphericalDelta.theta -= 2 * Math.PI * tempVec2b.x / el.clientHeight;\n    sphericalDelta.phi -= 2 * Math.PI * tempVec2b.y / el.clientHeight;\n    rotateStart.copy(tempVec2a);\n  }\n  function handleMouseMoveDolly(e) {\n    tempVec2a.set(e.clientX, e.clientY);\n    tempVec2b.sub(tempVec2a, dollyStart);\n    if (tempVec2b.y > 0) {\n      dolly(getZoomScale());\n    } else if (tempVec2b.y < 0) {\n      dolly(1 / getZoomScale());\n    }\n    dollyStart.copy(tempVec2a);\n  }\n  function handleMovePan(x, y) {\n    tempVec2a.set(x, y);\n    tempVec2b.sub(tempVec2a, panStart).multiply(panSpeed);\n    pan(tempVec2b.x, tempVec2b.y);\n    panStart.copy(tempVec2a);\n  }\n  function handleTouchStartDollyPan(e) {\n    if (enableZoom) {\n      let dx = e.touches[0].pageX - e.touches[1].pageX;\n      let dy = e.touches[0].pageY - e.touches[1].pageY;\n      let distance = Math.sqrt(dx * dx + dy * dy);\n      dollyStart.set(0, distance);\n    }\n    if (enablePan) {\n      let x = 0.5 * (e.touches[0].pageX + e.touches[1].pageX);\n      let y = 0.5 * (e.touches[0].pageY + e.touches[1].pageY);\n      panStart.set(x, y);\n    }\n  }\n  function handleTouchMoveDollyPan(e) {\n    if (enableZoom) {\n      let dx = e.touches[0].pageX - e.touches[1].pageX;\n      let dy = e.touches[0].pageY - e.touches[1].pageY;\n      let distance = Math.sqrt(dx * dx + dy * dy);\n      tempVec2a.set(0, distance);\n      tempVec2b.set(0, Math.pow(tempVec2a.y / dollyStart.y, zoomSpeed));\n      dolly(tempVec2b.y);\n      dollyStart.copy(tempVec2a);\n    }\n    if (enablePan) {\n      let x = 0.5 * (e.touches[0].pageX + e.touches[1].pageX);\n      let y = 0.5 * (e.touches[0].pageY + e.touches[1].pageY);\n      handleMovePan(x, y);\n    }\n  }\n  const onMouseDown = e => {\n    if (!this.enabled) return;\n    switch (e.button) {\n      case this.mouseButtons.ORBIT:\n        if (enableRotate === false) return;\n        rotateStart.set(e.clientX, e.clientY);\n        state = STATE.ROTATE;\n        break;\n      case this.mouseButtons.ZOOM:\n        if (enableZoom === false) return;\n        dollyStart.set(e.clientX, e.clientY);\n        state = STATE.DOLLY;\n        break;\n      case this.mouseButtons.PAN:\n        if (enablePan === false) return;\n        panStart.set(e.clientX, e.clientY);\n        state = STATE.PAN;\n        break;\n    }\n    if (state !== STATE.NONE) {\n      window.addEventListener('mousemove', onMouseMove, false);\n      window.addEventListener('mouseup', onMouseUp, false);\n    }\n  };\n  const onMouseMove = e => {\n    if (!this.enabled) return;\n    switch (state) {\n      case STATE.ROTATE:\n        if (enableRotate === false) return;\n        handleMoveRotate(e.clientX, e.clientY);\n        break;\n      case STATE.DOLLY:\n        if (enableZoom === false) return;\n        handleMouseMoveDolly(e);\n        break;\n      case STATE.PAN:\n        if (enablePan === false) return;\n        handleMovePan(e.clientX, e.clientY);\n        break;\n    }\n  };\n  const onMouseUp = () => {\n    window.removeEventListener('mousemove', onMouseMove, false);\n    window.removeEventListener('mouseup', onMouseUp, false);\n    state = STATE.NONE;\n  };\n  const onMouseWheel = e => {\n    if (!this.enabled || !enableZoom || state !== STATE.NONE && state !== STATE.ROTATE) return;\n    e.stopPropagation();\n    e.preventDefault();\n    if (e.deltaY < 0) {\n      dolly(1 / getZoomScale());\n    } else if (e.deltaY > 0) {\n      dolly(getZoomScale());\n    }\n  };\n  const onTouchStart = e => {\n    if (!this.enabled) return;\n    e.preventDefault();\n    switch (e.touches.length) {\n      case 1:\n        if (enableRotate === false) return;\n        rotateStart.set(e.touches[0].pageX, e.touches[0].pageY);\n        state = STATE.ROTATE;\n        break;\n      case 2:\n        if (enableZoom === false && enablePan === false) return;\n        handleTouchStartDollyPan(e);\n        state = STATE.DOLLY_PAN;\n        break;\n      default:\n        state = STATE.NONE;\n    }\n  };\n  const onTouchMove = e => {\n    if (!this.enabled) return;\n    e.preventDefault();\n    e.stopPropagation();\n    switch (e.touches.length) {\n      case 1:\n        if (enableRotate === false) return;\n        handleMoveRotate(e.touches[0].pageX, e.touches[0].pageY);\n        break;\n      case 2:\n        if (enableZoom === false && enablePan === false) return;\n        handleTouchMoveDollyPan(e);\n        break;\n      default:\n        state = STATE.NONE;\n    }\n  };\n  const onTouchEnd = () => {\n    if (!this.enabled) return;\n    state = STATE.NONE;\n  };\n  const onContextMenu = e => {\n    if (!this.enabled) return;\n    e.preventDefault();\n  };\n  function addHandlers() {\n    element.addEventListener('contextmenu', onContextMenu, false);\n    element.addEventListener('mousedown', onMouseDown, false);\n    element.addEventListener('wheel', onMouseWheel, {\n      passive: false\n    });\n    element.addEventListener('touchstart', onTouchStart, {\n      passive: false\n    });\n    element.addEventListener('touchend', onTouchEnd, false);\n    element.addEventListener('touchmove', onTouchMove, {\n      passive: false\n    });\n  }\n  this.remove = function () {\n    element.removeEventListener('contextmenu', onContextMenu);\n    element.removeEventListener('mousedown', onMouseDown);\n    element.removeEventListener('wheel', onMouseWheel);\n    element.removeEventListener('touchstart', onTouchStart);\n    element.removeEventListener('touchend', onTouchEnd);\n    element.removeEventListener('touchmove', onTouchMove);\n    window.removeEventListener('mousemove', onMouseMove);\n    window.removeEventListener('mouseup', onMouseUp);\n  };\n  addHandlers();\n}","map":{"version":3,"names":["Vec3","Vec2","STATE","NONE","ROTATE","DOLLY","PAN","DOLLY_PAN","tempVec3","tempVec2a","tempVec2b","Orbit","object","element","document","enabled","target","ease","inertia","enableRotate","rotateSpeed","autoRotate","autoRotateSpeed","enableZoom","zoomSpeed","zoomStyle","enablePan","panSpeed","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","Infinity","maxAzimuthAngle","minDistance","maxDistance","arguments","length","undefined","sphericalDelta","radius","phi","theta","sphericalTarget","spherical","panDelta","offset","copy","position","sub","distance","atan2","x","z","acos","min","max","y","update","handleAutoRotate","add","sinPhiRadius","sin","cos","lookAt","multiply","forcePosition","rotateStart","panStart","dollyStart","state","mouseButtons","ORBIT","ZOOM","getZoomScale","pow","panLeft","m","set","panUp","pan","deltaX","deltaY","el","body","targetDistance","tan","fov","clientHeight","matrix","dolly","dollyScale","type","orthographic","perspective","angle","handleMoveRotate","handleMouseMoveDolly","e","clientX","clientY","handleMovePan","handleTouchStartDollyPan","dx","touches","pageX","dy","pageY","sqrt","handleTouchMoveDollyPan","onMouseDown","button","window","addEventListener","onMouseMove","onMouseUp","removeEventListener","onMouseWheel","stopPropagation","preventDefault","onTouchStart","onTouchMove","onTouchEnd","onContextMenu","addHandlers","passive","remove"],"sources":["/home/nigro/Documents/personal_website/ngrlcu.github.io/node_modules/ogl/src/extras/Orbit.js"],"sourcesContent":["// Based from ThreeJS' OrbitControls class, rewritten using es6 with some additions and subtractions.\n// TODO: abstract event handlers so can be fed from other sources\n// TODO: make scroll zoom more accurate than just >/< zero\n// TODO: be able to pass in new camera position\n\nimport { Vec3 } from '../math/Vec3.js';\nimport { Vec2 } from '../math/Vec2.js';\n\nconst STATE = { NONE: -1, ROTATE: 0, DOLLY: 1, PAN: 2, DOLLY_PAN: 3 };\nconst tempVec3 = /* @__PURE__ */ new Vec3();\nconst tempVec2a = /* @__PURE__ */ new Vec2();\nconst tempVec2b = /* @__PURE__ */ new Vec2();\n\nexport function Orbit(\n    object,\n    {\n        element = document,\n        enabled = true,\n        target = new Vec3(),\n        ease = 0.25,\n        inertia = 0.85,\n        enableRotate = true,\n        rotateSpeed = 0.1,\n        autoRotate = false,\n        autoRotateSpeed = 1.0,\n        enableZoom = true,\n        zoomSpeed = 1,\n        zoomStyle = 'dolly',\n        enablePan = true,\n        panSpeed = 0.1,\n        minPolarAngle = 0,\n        maxPolarAngle = Math.PI,\n        minAzimuthAngle = -Infinity,\n        maxAzimuthAngle = Infinity,\n        minDistance = 0,\n        maxDistance = Infinity,\n    } = {}\n) {\n    this.enabled = enabled;\n    this.target = target;\n    this.zoomStyle = zoomStyle;\n\n    // Catch attempts to disable - set to 1 so has no effect\n    ease = ease || 1;\n    inertia = inertia || 0;\n\n    this.minDistance = minDistance;\n    this.maxDistance = maxDistance;\n\n    // current position in sphericalTarget coordinates\n    const sphericalDelta = { radius: 1, phi: 0, theta: 0 };\n    const sphericalTarget = { radius: 1, phi: 0, theta: 0 };\n    const spherical = { radius: 1, phi: 0, theta: 0 };\n    const panDelta = new Vec3();\n\n    // Grab initial position values\n    const offset = new Vec3();\n    offset.copy(object.position).sub(this.target);\n    spherical.radius = sphericalTarget.radius = offset.distance();\n    spherical.theta = sphericalTarget.theta = Math.atan2(offset.x, offset.z);\n    spherical.phi = sphericalTarget.phi = Math.acos(Math.min(Math.max(offset.y / sphericalTarget.radius, -1), 1));\n\n    this.offset = offset;\n\n    this.update = () => {\n        if (autoRotate) {\n            handleAutoRotate();\n        }\n\n        // apply delta\n        sphericalTarget.radius *= sphericalDelta.radius;\n        sphericalTarget.theta += sphericalDelta.theta;\n        sphericalTarget.phi += sphericalDelta.phi;\n\n        // apply boundaries\n        sphericalTarget.theta = Math.max(minAzimuthAngle, Math.min(maxAzimuthAngle, sphericalTarget.theta));\n        sphericalTarget.phi = Math.max(minPolarAngle, Math.min(maxPolarAngle, sphericalTarget.phi));\n        sphericalTarget.radius = Math.max(this.minDistance, Math.min(this.maxDistance, sphericalTarget.radius));\n\n        // ease values\n        spherical.phi += (sphericalTarget.phi - spherical.phi) * ease;\n        spherical.theta += (sphericalTarget.theta - spherical.theta) * ease;\n        spherical.radius += (sphericalTarget.radius - spherical.radius) * ease;\n\n        // apply pan to target. As offset is relative to target, it also shifts\n        this.target.add(panDelta);\n\n        // apply rotation to offset\n        let sinPhiRadius = spherical.radius * Math.sin(Math.max(0.000001, spherical.phi));\n        offset.x = sinPhiRadius * Math.sin(spherical.theta);\n        offset.y = spherical.radius * Math.cos(spherical.phi);\n        offset.z = sinPhiRadius * Math.cos(spherical.theta);\n\n        // Apply updated values to object\n        object.position.copy(this.target).add(offset);\n        object.lookAt(this.target);\n\n        // Apply inertia to values\n        sphericalDelta.theta *= inertia;\n        sphericalDelta.phi *= inertia;\n        panDelta.multiply(inertia);\n\n        // Reset scale every frame to avoid applying scale multiple times\n        sphericalDelta.radius = 1;\n    };\n\n    // Updates internals with new position\n    this.forcePosition = () => {\n        offset.copy(object.position).sub(this.target);\n        spherical.radius = sphericalTarget.radius = offset.distance();\n        spherical.theta = sphericalTarget.theta = Math.atan2(offset.x, offset.z);\n        spherical.phi = sphericalTarget.phi = Math.acos(Math.min(Math.max(offset.y / sphericalTarget.radius, -1), 1));\n        object.lookAt(this.target);\n    };\n\n    // Everything below here just updates panDelta and sphericalDelta\n    // Using those two objects' values, the orbit is calculated\n\n    const rotateStart = new Vec2();\n    const panStart = new Vec2();\n    const dollyStart = new Vec2();\n\n    let state = STATE.NONE;\n    this.mouseButtons = { ORBIT: 0, ZOOM: 1, PAN: 2 };\n\n    function getZoomScale() {\n        return Math.pow(0.95, zoomSpeed);\n    }\n\n    function panLeft(distance, m) {\n        tempVec3.set(m[0], m[1], m[2]);\n        tempVec3.multiply(-distance);\n        panDelta.add(tempVec3);\n    }\n\n    function panUp(distance, m) {\n        tempVec3.set(m[4], m[5], m[6]);\n        tempVec3.multiply(distance);\n        panDelta.add(tempVec3);\n    }\n\n    const pan = (deltaX, deltaY) => {\n        let el = element === document ? document.body : element;\n        tempVec3.copy(object.position).sub(this.target);\n        let targetDistance = tempVec3.distance();\n        targetDistance *= Math.tan((((object.fov || 45) / 2) * Math.PI) / 180.0);\n        panLeft((2 * deltaX * targetDistance) / el.clientHeight, object.matrix);\n        panUp((2 * deltaY * targetDistance) / el.clientHeight, object.matrix);\n    };\n\n    const dolly = (dollyScale) => {\n        if (this.zoomStyle === 'dolly') sphericalDelta.radius /= dollyScale;\n        else {\n            object.fov /= dollyScale;\n            if (object.type === 'orthographic') object.orthographic();\n            else object.perspective();\n        }\n    };\n\n    function handleAutoRotate() {\n        const angle = ((2 * Math.PI) / 60 / 60) * autoRotateSpeed;\n        sphericalDelta.theta -= angle;\n    }\n\n    function handleMoveRotate(x, y) {\n        tempVec2a.set(x, y);\n        tempVec2b.sub(tempVec2a, rotateStart).multiply(rotateSpeed);\n        let el = element === document ? document.body : element;\n        sphericalDelta.theta -= (2 * Math.PI * tempVec2b.x) / el.clientHeight;\n        sphericalDelta.phi -= (2 * Math.PI * tempVec2b.y) / el.clientHeight;\n        rotateStart.copy(tempVec2a);\n    }\n\n    function handleMouseMoveDolly(e) {\n        tempVec2a.set(e.clientX, e.clientY);\n        tempVec2b.sub(tempVec2a, dollyStart);\n        if (tempVec2b.y > 0) {\n            dolly(getZoomScale());\n        } else if (tempVec2b.y < 0) {\n            dolly(1 / getZoomScale());\n        }\n        dollyStart.copy(tempVec2a);\n    }\n\n    function handleMovePan(x, y) {\n        tempVec2a.set(x, y);\n        tempVec2b.sub(tempVec2a, panStart).multiply(panSpeed);\n        pan(tempVec2b.x, tempVec2b.y);\n        panStart.copy(tempVec2a);\n    }\n\n    function handleTouchStartDollyPan(e) {\n        if (enableZoom) {\n            let dx = e.touches[0].pageX - e.touches[1].pageX;\n            let dy = e.touches[0].pageY - e.touches[1].pageY;\n            let distance = Math.sqrt(dx * dx + dy * dy);\n            dollyStart.set(0, distance);\n        }\n\n        if (enablePan) {\n            let x = 0.5 * (e.touches[0].pageX + e.touches[1].pageX);\n            let y = 0.5 * (e.touches[0].pageY + e.touches[1].pageY);\n            panStart.set(x, y);\n        }\n    }\n\n    function handleTouchMoveDollyPan(e) {\n        if (enableZoom) {\n            let dx = e.touches[0].pageX - e.touches[1].pageX;\n            let dy = e.touches[0].pageY - e.touches[1].pageY;\n            let distance = Math.sqrt(dx * dx + dy * dy);\n            tempVec2a.set(0, distance);\n            tempVec2b.set(0, Math.pow(tempVec2a.y / dollyStart.y, zoomSpeed));\n            dolly(tempVec2b.y);\n            dollyStart.copy(tempVec2a);\n        }\n\n        if (enablePan) {\n            let x = 0.5 * (e.touches[0].pageX + e.touches[1].pageX);\n            let y = 0.5 * (e.touches[0].pageY + e.touches[1].pageY);\n            handleMovePan(x, y);\n        }\n    }\n\n    const onMouseDown = (e) => {\n        if (!this.enabled) return;\n\n        switch (e.button) {\n            case this.mouseButtons.ORBIT:\n                if (enableRotate === false) return;\n                rotateStart.set(e.clientX, e.clientY);\n                state = STATE.ROTATE;\n                break;\n            case this.mouseButtons.ZOOM:\n                if (enableZoom === false) return;\n                dollyStart.set(e.clientX, e.clientY);\n                state = STATE.DOLLY;\n                break;\n            case this.mouseButtons.PAN:\n                if (enablePan === false) return;\n                panStart.set(e.clientX, e.clientY);\n                state = STATE.PAN;\n                break;\n        }\n\n        if (state !== STATE.NONE) {\n            window.addEventListener('mousemove', onMouseMove, false);\n            window.addEventListener('mouseup', onMouseUp, false);\n        }\n    };\n\n    const onMouseMove = (e) => {\n        if (!this.enabled) return;\n\n        switch (state) {\n            case STATE.ROTATE:\n                if (enableRotate === false) return;\n                handleMoveRotate(e.clientX, e.clientY);\n                break;\n            case STATE.DOLLY:\n                if (enableZoom === false) return;\n                handleMouseMoveDolly(e);\n                break;\n            case STATE.PAN:\n                if (enablePan === false) return;\n                handleMovePan(e.clientX, e.clientY);\n                break;\n        }\n    };\n\n    const onMouseUp = () => {\n        window.removeEventListener('mousemove', onMouseMove, false);\n        window.removeEventListener('mouseup', onMouseUp, false);\n        state = STATE.NONE;\n    };\n\n    const onMouseWheel = (e) => {\n        if (!this.enabled || !enableZoom || (state !== STATE.NONE && state !== STATE.ROTATE)) return;\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (e.deltaY < 0) {\n            dolly(1 / getZoomScale());\n        } else if (e.deltaY > 0) {\n            dolly(getZoomScale());\n        }\n    };\n\n    const onTouchStart = (e) => {\n        if (!this.enabled) return;\n        e.preventDefault();\n\n        switch (e.touches.length) {\n            case 1:\n                if (enableRotate === false) return;\n                rotateStart.set(e.touches[0].pageX, e.touches[0].pageY);\n                state = STATE.ROTATE;\n                break;\n            case 2:\n                if (enableZoom === false && enablePan === false) return;\n                handleTouchStartDollyPan(e);\n                state = STATE.DOLLY_PAN;\n                break;\n            default:\n                state = STATE.NONE;\n        }\n    };\n\n    const onTouchMove = (e) => {\n        if (!this.enabled) return;\n        e.preventDefault();\n        e.stopPropagation();\n\n        switch (e.touches.length) {\n            case 1:\n                if (enableRotate === false) return;\n                handleMoveRotate(e.touches[0].pageX, e.touches[0].pageY);\n                break;\n            case 2:\n                if (enableZoom === false && enablePan === false) return;\n                handleTouchMoveDollyPan(e);\n                break;\n            default:\n                state = STATE.NONE;\n        }\n    };\n\n    const onTouchEnd = () => {\n        if (!this.enabled) return;\n        state = STATE.NONE;\n    };\n\n    const onContextMenu = (e) => {\n        if (!this.enabled) return;\n        e.preventDefault();\n    };\n\n    function addHandlers() {\n        element.addEventListener('contextmenu', onContextMenu, false);\n        element.addEventListener('mousedown', onMouseDown, false);\n        element.addEventListener('wheel', onMouseWheel, { passive: false });\n        element.addEventListener('touchstart', onTouchStart, { passive: false });\n        element.addEventListener('touchend', onTouchEnd, false);\n        element.addEventListener('touchmove', onTouchMove, { passive: false });\n    }\n\n    this.remove = function () {\n        element.removeEventListener('contextmenu', onContextMenu);\n        element.removeEventListener('mousedown', onMouseDown);\n        element.removeEventListener('wheel', onMouseWheel);\n        element.removeEventListener('touchstart', onTouchStart);\n        element.removeEventListener('touchend', onTouchEnd);\n        element.removeEventListener('touchmove', onTouchMove);\n        window.removeEventListener('mousemove', onMouseMove);\n        window.removeEventListener('mouseup', onMouseUp);\n    };\n\n    addHandlers();\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}